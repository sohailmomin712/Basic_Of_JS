<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TRENDING | HOTSTAR</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Milonga&display=swap');

    .navbar>div:first-child p {
      font-family: 'Milonga';
      font-size: 45px;
      color: white;
    }

    #container {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      width: 1200px;
      border: 0px solid none;
      margin: auto;
      margin-top: 20px;
      gap: 20px;

    }



    #container>div h2 {
      text-align: center;
      font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
      font-size: 25px;
      margin-top: 5px;
      font-weight: lighter;

    }

    /* #container>div p{
        text-align: center; 
        margin-top: -25px; 
        font-size: 20px
      } */



    #container div {

      color: white;

    }

    #container>div img {
      width: 100%;
      height: 430px;
      border-radius: 5px;

    }

    /* #container>div button{
        margin: auto; display:block;
        background: rgb(40,155,255);

         padding: 10px 20px; 
         margin-top: -5px; 
         margin-bottom: 20px;
         border: none;
         font-size: 20px;
         color: white;
         margin-top: -20px; 
         border-radius: 0px 20px;
      } */

    #input {
      width: fit-content;

      display: flex;
      margin: auto;
      margin-top: 30px;
      margin-bottom: 30px;
      justify-content: space-between;
      gap: 30px;

    }



    #search {
      width: 500px;
      font-size: x-large;
      padding: 10px;
      border-radius: 8px;
    }

    #button {

      background-color: rgba(40, 155, 255, 0.391);
      ;
      padding: 10px 30px;
      border: none;
      font-size: x-large;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }

    #sorting {
      width: fit-content;

      display: flex;
      margin: auto;
      margin-top: 30px;
      margin-bottom: 30px;
      justify-content: space-between;
      gap: 30px;


    }

    #sorting select,
    span {

      font-size: x-large;
      padding: 10px;
      border-radius: 8px;
    }

    #sorting span {
      background-color: rgba(40, 155, 255, 0.391);
      ;

      padding: 10px 30px;
      border: none;
      font-size: x-large;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }







    * {
      font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    }


    /* /// NAVBAR CSS */

    body {
      background-color: #131a28;
    }


    #navbar {
      display: flex;
      width: fit-content;
      height: 66px;
      border: 1px none white;
      justify-content: space-between;
      align-items: center;
      gap: 25px;
      margin: auto;


      max-width: 100%;
      width: 100%;
      z-index: 999999;


    }

    input[type="search"] {
      background-color: #131a28;
      border: none;
      border-color: none;
      color: white;
      /* width: 400px; */

      position: relative;
      width: 240px;
      height: 32px;
      border: none;
      border-bottom: 1pxsolidvar(--TEXT_COLOR_L2);

      font-size: 16px;
      outline: 0;
      padding: 0 28px 0 0px;
      border-radius: 0;
      background: none;

    }






    p {
      color: white;
    }

    #trend {
      background-color: rgba(40, 155, 255, 0.391);
      ;

      padding: 10px 30px;
      border: none;
      font-size: x-large;
      color: white;
      border-radius: 5px;
      cursor: pointer;


      top: 100px;
      right: 20px;
      position: absolute;


      text-decoration: none;

      font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
      font-weight: light;
    }
  </style>
</head>

<body>

  <div id="nav">
    <div id="navbar">
      <div><img src="https://i.im.ge/2022/07/02/uLT6ip.jpg" alt="" /></div>

      <div class="hover-on-manubar">


        <input type="search" id="query" class="input-open" placeholder="Search Movies here..." />

      </div>



      <div>
        <img src="https://i.im.ge/2022/07/02/uLTPe1.jpg" alt="" srcset="" />
      </div>
    </div>
  </div>


  <a id="trend" href="hotstar.html">HOME PAGE</a>

  <div id="sorting">
    <span>Sort By</span>
    <select id="sort" onclick="handleSort()">
      <option value="">Default</option>
      <option value="dec">Price: High to Low</option>
      <option value="inc">Price: Low to High</option>
    </select>
  </div>

  <div id="input">
    <input type="search" id="search" placeholder="Search Movie" />
    <button id="button" onclick="searchDATA()">Search</button>
  </div>

  <div id="container">

  </div>

</body>

</html>

<script>


  // https://www.omdbapi.com/?s=Thor&apikey=c1c983b0




  let arr;

  const url = "https://www.omdbapi.com/?s=Thor&apikey=c1c983b0"

  async function getDATA() {

    try {

      let res = await fetch(url);
      let data = await res.json()
      arr = data.Search

      displayDATA(arr)

      console.log(arr)

    } catch (err) {
      console.log(err)
    }
  }

  getDATA()


  function displayDATA(arr) {

    document.querySelector("#container").innerHTML = ""

    if (arr == "") {

      let container = document.querySelector("#container");

      let img = document.createElement("img");
      img.src = "https://freefrontend.com/assets/img/html-funny-404-pages/CodePen-404-Page.gif"

      container.append(img)
    }


    arr.map(function (el, index) {

      let container = document.querySelector("#container");

      let img = document.createElement("img");
      img.src = el.Poster

      let name = document.createElement("h2");
      name.innerText = el.Title

      //    let year = document.createElement("p"); 
      //    year.innerText = el.Year

      //    let but = document.createElement("button")
      //    but.innerText = "Add To Cart"
      //    but.addEventListener("click", function(){
      //        addTOcart(el,index)
      //    })

      let div = document.createElement("div");

      div.append(img, name)
      container.append(div)

    })

  }


  function searchDATA() {

    let Movie_name = document.querySelector("#search").value;

    let X = arr.filter(function (el) {


      if (el.Title.toLowerCase() == Movie_name) {
        return el
      }

    })
    if (X) {
      displayDATA(X)
      console.log(X)

    }
  }

  function handleSort() {
    let selected = document.querySelector("#sort").value;
    if (selected == "dec") {
      arr.sort(function (a, b) {
        return +b.Year - +a.Year;
      });
      displayDATA(arr);
      console.log(arr);
    }
    if (selected == "inc") {
      arr.sort(function (a, b) {
        return +a.Year - +b.Year;
      });
      displayDATA(arr);
      console.log(arr);
    }
  }



//  https://freefrontend.com/assets/img/html-funny-404-pages/CodePen-404-Page.gif

</script>